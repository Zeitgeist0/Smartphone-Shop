(this["webpackJsonphomework-1"]=this["webpackJsonphomework-1"]||[]).push([[0],{102:function(e,t,c){},201:function(e,t,c){},202:function(e,t,c){},203:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),a=c(35),s=c.n(a),i=c(23),o=(c(87),c(88),c(89),c(2)),l=(c(90),c(52),function(e){return{type:"CLOSE_MODAL",payload:e}}),d=c(4),u=(c(96),c(1)),j=function(e){var t=e.text,c=e.styleClass,n=e.handleClick,r=[c,"button"].join(" ");return Object(u.jsx)("button",{"data-testid":"button",className:r,onClick:n,children:t})},m=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.modal})),c=Object(d.c)((function(e){return e.cart})).some((function(e){return e.id===t.product.id})),n=t.product,r=t.modalDisplay,a=t.product.name;return Object(u.jsx)(u.Fragment,{children:r&&Object(u.jsx)("div",{className:" modal-dialog",children:Object(u.jsxs)("div",{className:"modal-content ",children:[Object(u.jsxs)("div",{className:"modal-header",children:[Object(u.jsx)("h4",{className:"modal-title",children:a}),Object(u.jsx)("span",{onClick:function(){e(l({}))},className:"close-button","data-testid":"span-close-button"})]}),Object(u.jsx)("p",{"data-testid":"body-test",className:"modal-body",children:c?"Would you like to remove this phone from your cart?":"Would you like to add this phone to your cart?"}),Object(u.jsxs)("div",{className:"modal-footer",children:[Object(u.jsx)(j,{text:"Confirm",handleClick:c?function(){e(function(e){return{type:"REMOVE_FROM_CART",payload:e}}(n)),console.log(n),e(l({}))}:function(){e(function(e){return{type:"ADD_TO_CART",payload:e}}(n)),e(l({}))}}),Object(u.jsx)(j,{text:"Cancel",handleClick:function(){e(l({}))}})]})]})})})},b=(c(98),function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("header",{children:[Object(u.jsx)("h1",{className:"header",children:"SmartphoneXpress"}),Object(u.jsx)("nav",{children:Object(u.jsxs)("ul",{className:"header-list",children:[Object(u.jsx)("li",{children:Object(u.jsx)(i.b,{className:"header-item",to:"/phonesList",children:"Phones"})}),Object(u.jsx)("li",{children:Object(u.jsx)(i.b,{className:"header-item",to:"/cart",children:"Cart"})}),Object(u.jsx)("li",{children:Object(u.jsx)(i.b,{className:"header-item",to:"/favourites",children:"Favourites"})})]})})]})})}),O=function(e){var t=e.product,c=Object(d.b)(),n=Object(d.c)((function(e){return e.cart})).some((function(e){return e.id===t.id})),r=Object(d.c)((function(e){return e.favourites})).some((function(e){return e.id===t.id})),a=function(){document.addEventListener("click",s),c({type:"OPEN_MODAL",payload:t})},s=function(e){e.target.closest(".modal-content")||e.target.classList.contains("button")||c(l({}))};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"phone-image-container",children:Object(u.jsx)("img",{src:t.url,alt:"",className:"phone-image"})}),Object(u.jsx)("h3",{className:"phone-name",children:t.name}),Object(u.jsxs)("div",{className:"phone-details-container",children:[Object(u.jsxs)("p",{children:["Color: ",t.color]}),Object(u.jsxs)("p",{children:["Product ID: ",t.id]})]}),Object(u.jsxs)("p",{className:"phone-price",children:[t.price," UAH"]}),Object(u.jsxs)("div",{className:"actions-container",children:[n?Object(u.jsx)(j,{text:"Remove from cart",handleClick:a}):Object(u.jsx)(j,{text:"Add to cart",handleClick:a}),Object(u.jsx)("svg",{onClick:r?function(){c(function(e){return{type:"REVOME_FROM_FAVOURITES",payload:e}}(t))}:function(){c(function(e){return{type:"ADD_TO_FAVOURITES",payload:e}}(t))},width:"16",height:"16",fill:r?"#da2533":"#797979",className:"phone-favicon",children:Object(u.jsx)("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})})]})]})},h=(c(102),function(e){var t=e.products;return Object(u.jsx)("div",{className:"products-container",children:Object(u.jsx)("ul",{className:"phones-list",children:t.map((function(e){return Object(u.jsx)("li",{className:"phones-item",children:Object(u.jsx)(O,{product:e})},e.id)}))})})}),p=c(11),f=c(10),x=c(20);c(201),c(202);function N(e){var t=e.checkoutCart,c=e.userInfo,r=c.name,a=c.surname,s=c.age,i=c.address,o=c.phoneNumber;return Object(n.useEffect)((function(){window.scrollTo(0,0)})),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{className:"checkout-header",children:"Those are your checkout details and selected items"}),Object(u.jsxs)("ul",{className:"user-list",children:[Object(u.jsxs)("li",{className:"user-list-item",children:["Name : ",r]}),Object(u.jsxs)("li",{className:"user-list-item",children:[" Surname : ",a]}),Object(u.jsxs)("li",{className:"user-list-item",children:[" Age : ",s]}),Object(u.jsxs)("li",{className:"user-list-item",children:[" Address : ",i]}),Object(u.jsxs)("li",{className:"user-list-item",children:["Phone Number : ",o]})]}),Object(u.jsx)(h,{products:t})]})}var v=x.b({name:x.c().required("Name is required"),surname:x.c().required("Surname is required"),age:x.a().typeError("Please enter a number").required("Age is required").positive().integer(),address:x.c().min(10,"Please enter the full address").required("Delivery address is required"),phoneNumber:x.a().typeError("Please enter a number").required("Phone number is required").positive().integer()});function g(){var e=Object(d.b)(),t=Object(n.useState)([]),c=Object(p.a)(t,2),r=c[0],a=c[1],s=Object(n.useState)({}),i=Object(p.a)(s,2),o=i[0],l=i[1],j=Object(n.useState)(!1),m=Object(p.a)(j,2),b=m[0],O=m[1],h=Object(d.c)((function(e){return e.cart}));return Object(u.jsxs)(u.Fragment,{children:[!b&&Object(u.jsxs)(u.Fragment,{children:[" ",Object(u.jsx)("h2",{className:"checkout-header",children:"You can proceed to checkout here"}),Object(u.jsx)(f.d,{initialValues:{name:"",surname:"",age:"",address:"",phoneNumber:""},validationSchema:v,onSubmit:function(t,c){var n,r=c.resetForm,s=t.name,i=t.surname,o=t.age,d=t.address,u=t.phoneNumber;l({name:s,surname:i,age:o,address:d,phoneNumber:u}),a(h),O(!0),r(),e({type:"CLEAN_CART",payload:n})},children:function(e){e.isSubmitting;return Object(u.jsx)(f.c,{className:"checkout-form",children:Object(u.jsxs)("div",{className:"form-container",children:[Object(u.jsxs)("div",{className:"form-list-item",children:[Object(u.jsx)("label",{htmlFor:"name",children:"First Name"}),Object(u.jsx)(f.b,{className:"form-field",name:"name",type:"name",placeholder:"Name"}),Object(u.jsx)(f.a,{component:"div",className:"error-message",name:"name"})]}),Object(u.jsxs)("div",{className:"form-list-item",children:[Object(u.jsx)("label",{htmlFor:"name",children:"Surname"}),Object(u.jsx)(f.b,{name:"surname",type:"surname",placeholder:"Surname",className:"form-field"}),Object(u.jsx)(f.a,{className:"error-message",component:"div",name:"surname"})]}),Object(u.jsxs)("div",{className:"form-list-item",children:[Object(u.jsx)("label",{htmlFor:"name",children:"Age"}),Object(u.jsx)(f.b,{name:"age",type:"age",placeholder:"Age",className:"form-field"}),Object(u.jsx)(f.a,{className:"error-message",component:"div",name:"age"})]}),Object(u.jsxs)("div",{className:"form-list-item",children:[Object(u.jsx)("label",{htmlFor:"name",children:"Delivery address"}),Object(u.jsx)(f.b,{name:"address",type:"address",placeholder:"Delivery address",className:"form-field"}),Object(u.jsx)(f.a,{className:"error-message",component:"div",name:"address"})]}),Object(u.jsxs)("div",{className:"form-list-item",children:[Object(u.jsx)("label",{htmlFor:"name",children:"Phone number"}),Object(u.jsx)(f.b,{name:"phoneNumber",type:"phoneNumber",placeholder:"Phone number",className:"form-field"}),Object(u.jsx)(f.a,{className:"error-message",component:"div",name:"phoneNumber"})]}),Object(u.jsx)("button",{className:"button",type:"submit",children:"Checkout"})]})})}})," "]}),b&&Object(u.jsxs)(u.Fragment,{children:[" ",Object(u.jsx)(N,{checkoutCart:r,userInfo:o})]})]})}var y=function(){var e=Object(d.c)((function(e){return e.cart}));return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(h,{products:e}),Object(u.jsx)(g,{})]})},S=function(){var e=Object(d.c)((function(e){return e.favourites}));return Object(u.jsx)(h,{products:e})},E=function(){var e=Object(d.c)((function(e){return e.products}));return Object(u.jsx)(h,{products:e})},_=function(){return function(e,t){fetch("/products.json").then((function(e){return e.ok?e.json():Promise.reject(e)})).then((function(t){e(function(e){return{type:"SET_PRODUCTS",payload:e}}(t))}))}},T=function(){var e=Object(d.b)();return Object(n.useEffect)((function(){var t;e(_()),e({type:"SET_CART",payload:t}),e(function(e){return{type:"SET_FAVOURITES",payload:e}}())})),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(b,{}),Object(u.jsx)("main",{children:Object(u.jsxs)(o.c,{children:[Object(u.jsx)(o.a,{path:"/phonesList",children:Object(u.jsx)(E,{})}),Object(u.jsx)(o.a,{exact:!0,path:"/cart",children:Object(u.jsx)(y,{})}),Object(u.jsx)(o.a,{exact:!0,path:"/favourites",children:Object(u.jsx)(S,{})})]})}),Object(u.jsx)(m,{})]})},C=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,204)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;c(e),n(e),r(e),a(e),s(e)}))},A=c(28),F=c(3),D=c(82),R=Object(A.b)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"SET_PRODUCTS"===t.type?t.payload:e},cart:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],c=arguments.length>1?arguments[1]:void 0;switch(c.type){case"ADD_TO_CART":return localStorage.setItem("cart",JSON.stringify([].concat(Object(F.a)(t),[c.payload]))),[].concat(Object(F.a)(t),[c.payload]);case"REMOVE_FROM_CART":var n=t.filter((function(e){return e.name!==c.payload.name}));return localStorage.setItem("cart",JSON.stringify(n)),n;case"SET_CART":var r=localStorage.getItem("cart");if(!r)return[];var a=JSON.parse(r);return a;case"CLEAN_CART":return(e=console).log.apply(e,Object(F.a)(t)),localStorage.removeItem("cart"),[];default:return t}},favourites:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_FAVOURITES":return localStorage.setItem("favourites",JSON.stringify([].concat(Object(F.a)(e),[t.payload]))),[].concat(Object(F.a)(e),[t.payload]);case"REVOME_FROM_FAVOURITES":var c=e.filter((function(e){return e.name!==t.payload.name}));return localStorage.setItem("favourites",JSON.stringify(c)),c;case"SET_FAVOURITES":var n=localStorage.getItem("favourites");if(!n)return[];var r=JSON.parse(n);return r;default:return e}},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{modalDisplay:!1,product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_MODAL":return{modalDisplay:!0,product:t.payload};case"CLOSE_MODAL":return{modalDisplay:!1,product:t.payload};default:return e}}}),k=window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e},I=Object(A.d)(R,Object(A.c)(Object(A.a)(D.a),k));s.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(d.a,{store:I,children:Object(u.jsx)(i.a,{children:Object(u.jsx)(T,{})})})}),document.getElementById("root")),C()},52:function(e,t,c){},87:function(e,t,c){},88:function(e,t,c){},89:function(e,t,c){},90:function(e,t,c){},96:function(e,t,c){},98:function(e,t,c){}},[[203,1,2]]]);
//# sourceMappingURL=main.5dd663c4.chunk.js.map